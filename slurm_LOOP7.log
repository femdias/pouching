
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: 5-user 8-core network perpetual
Serial number: 501806372583
  Licensed to: Econ Department
               Cornell University, Ithaca, NY

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do master_LOOP7.do /logs/slurm_LOOP7.log 

. // Poaching Project
. // Created by: Fabiano Dal-Ri
. // (fd237@cornell.edu; dalri.fabiano@gmail.com)
. // Date created: April 2024
. 
. // Purpose: Master file for the "Poaching" project
. 
. *--------------------------*
. * SET UP
. *--------------------------*
. 
.         // working directory
.         cd "/home/ecco_rais/data/interwrk/daniela_group"
/home/ecco_rais/data/interwrk/daniela_group

.         
.         // clearing session
.         clear all

.         macro drop _all

. 
.         // default color scheme
.         set scheme s1color

.         
.         // globals -- input files
.         
.         global RAIS_Clean       "RAIS/output/data/identified/RAIS_Clean"

.         global AKM              "akm/output/data"

.         global JointMovements   "displacement/output/data/JointMovements"

.         global Owners           "fabiano/jmp/output/data/Owners"

.         global Firms_Panel      "fabiano/jmp/output/data/Firms_Panel"   

.         
.         // globals -- paths in this folder
.         
.         global input            "poaching/input"

.         global prepare          "poaching/programs/prepare"

.         global analysis         "poaching/programs/analysis"

.         global auxiliary        "poaching/programs/auxiliary"

.         global data             "poaching/output/data"

.         global results          "poaching/output/results"

.         global temp             "poaching/temp"

.         
.         // globals -- analysis
.         
.         global evt_vars evt_l9 evt_l8 evt_l7 evt_l6 evt_l5 evt_l4 evt_zero ev
> t_l2 evt_l1 ///
>               evt_f0 evt_f1 evt_f2 evt_f3 evt_f4 evt_f5 evt_f6 evt_f7 evt_f8 
> evt_f9 evt_f10 evt_f11 evt_f12     

.         
. *-----------------------------------------*
. * POPULATING INPUT FOLDER
. *-----------------------------------------*
. 
.         // "auxiliary" folder:
.         // -- ipca_brazil.dta: taken from other projects; no raw files availa
> ble anymore
.         // -- minwage_brazil.dta: taken from other projects; no raw files ava
> ilable anymore
.         // -- georegions.dta: taken from Fabiano's JMP
.         
. *-----------------------------------------*
. * PREPARE
. *-----------------------------------------*
. 
. // PART I: organizing RAIS data 
. 
.         // create a monthly RAIS panel
.         *do "${prepare}/rais_m"
.         
. // PART II: constructing auxiliary data sets
. 
.         // calculate average number of employees
.         *do "${prepare}/plantsize_m"
.         
.         // calculate wage growth variables at the plant-level
.         *do "${prepare}/wagegrowth_m"
.         
.         // calculate industry growth (employment)
.         *do "${prepare}/industrygrowth_m" // IN PROGRESS
.         
.         // calculate positive employment dummy variable
.         *do "${prepare}/posemp_m"
.                         
.         // identify joing movements
.         *do "${prepare}/jointmvt"
. 
. // PART III: constructing intermediate data sets
. 
.         // identifying poaching events
.         *do "${prepare}/202503_evt_m"
.                 
.                 // identifying the main poached individual
.                 *do "${prepare}/202503_mainpc"
.                 
.                 // identifying event types
.                 *do "${prepare}/202503_evttype"
.         
.         // constructing worker-level panel with coworkers of the poached indi
> viduals
.         *do "${prepare}/202503_cowork_panel_m"
.         
.         // constructing event-level panel with poaching plants (destination p
> lants)
.         *do "${prepare}/202503_evt_panel_m"
.         
.         // constructing worker-level data set with poaching firms in t=0
.         *do "${prepare}/202503_dest_panel_m"
.         
.         // event-level data set
.         *do "${prepare}/202503_poach_ind"
.         *do "${prepare}/202503_poach_ind_LOOP1"
.         *do "${prepare}/202503_poach_ind_LOOP2"
.         *do "${prepare}/202503_poach_ind_LOOP3"
.         *do "${prepare}/202503_poach_ind_LOOP4"
.         *do "${prepare}/202503_poach_ind_LOOP5"
.         *do "${prepare}/202503_poach_ind_LOOP6"
.         do "${prepare}/202503_poach_ind_LOOP7"

. // Poaching Project
. // Created by: Fabiano Dal-Ri
. // (fd237@cornell.edu; dalri.fabiano@gmail.com)
. // Date created: August 2024
. 
. // Purpose: Create data set with poached individuals only
. 
. *--------------------------*
. * BUILD
. *--------------------------*
. 
. // variables from cowork_panel_m
. 
.         // this panel will be constructed separately for each cohort
.         foreach ym of numlist 673/683 { 
  2. 
.         use "${data}/202503_cowork_panel_m/202503_o_cw_`ym'", clear
  3.         
.         // creating alternative raided workers variable -- MOVE THIS TO COWOR
> K_PANEL_M_SPV, EVENTUALLY
.         // reassigning poached individuals who are not the main one as raided
>  individuals
.         
.                 gen raidpc = (raid == 1 | (ym_rel == 0 & pc_individual == 1 &
>  main_individual == 0))
  4.                 
.                 gen raidpc_individual = (raid_individual == 1 | (pc_individua
> l == 1 & main_individual == 0))
  5.                         
.         // organizing variables we want to keep
.         
.                 // cnae_o, cnae_d
.                 
.                 tostring cnae20_class, gen(cnae20_class_str) format(%05.0f)
  6.                 gen cnae20_2d = substr(cnae20_class_str, 1, 2)
  7.                 destring cnae20_2d, force replace
  8.                 
.                 gen cnae_o_temp = cnae20_2d if ym_rel == -12
  9.                 egen cnae_o = max(cnae_o_temp), by(eventid)
 10.                 
.                 gen cnae_d_temp = cnae20_2d if ym_rel == 0
 11.                 egen cnae_d = max(cnae_d_temp), by(eventid)
 12.                 
.                 drop cnae20_class_str cnae20_2d cnae_o_temp cnae_d_temp
 13.                 
.                 // o_avg_worker_naive_fe
.                 
.                 gen o_avg_worker_naive_fe_temp = worker_naive_fe if ym_rel ==
>  -12
 14.                 egen o_avg_worker_naive_fe = mean(o_avg_worker_naive_fe_te
> mp), by(eventid)
 15.                 
.                 drop o_avg_worker_naive_fe_temp
 16.                 
.                 // o_avg_worker_akm_fe
.                 
.                 gen o_avg_worker_akm_fe_temp = worker_akm_fe if ym_rel == -12
 17.                 egen o_avg_worker_akm_fe = mean(o_avg_worker_akm_fe_temp),
>  by(eventid)
 18.                 
.                 drop o_avg_worker_akm_fe_temp
 19.                 
.                 // o_size
.         
.                 gen o_size_temp = 1 if ym_rel == -12
 20.                 egen o_size = sum(o_size_temp), by(eventid)
 21.                 
.                 drop o_size_temp
 22.                 
.                 // pc_age
.                 
.                 gen pc_age_temp = age if ym_rel == -12 & pc_individual == 1
 23.                 egen pc_age = mean(pc_age_temp), by(eventid)
 24.                 
.                 drop pc_age_temp
 25.                 
.                         // pc_age
.                 
.                         gen main_age_temp = age if ym_rel == -12 & main_indiv
> idual == 1
 26.                         egen main_age = mean(main_age_temp), by(eventid)
 27.                 
.                         drop main_age_temp
 28.                 
.                 // pc_exp
.                 
.                 gen pc_exp_temp = age - educ_years - 6 if ym_rel == -12 & pc_
> individual == 1
 29.                 
.                         // note: in some cases, this is negative or zero
.                         // issue: young people with too many education years
.                         // in these cases, we assign pc_exp = 1 (they were em
> ployed, after all)
.                         replace pc_exp_temp = 1 if pc_exp <= 0
 30.                         
.                 egen pc_exp = mean(pc_exp_temp), by(eventid)
 31.                 
.                 drop pc_exp_temp
 32.                 
.                         // main_exp
.                 
.                         gen main_exp_temp = age - educ_years - 6 if ym_rel ==
>  -12 & main_individual == 1
 33.                 
.                                 // note: in some cases, this is negative or z
> ero
.                                 // issue: young people with too many educatio
> n years
.                                 // in these cases, we assign main_exp = 1 (th
> ey were employed, after all)
.                                 replace main_exp_temp = 1 if main_exp <= 0
 34.                                 
.                         egen main_exp = mean(main_exp_temp), by(eventid)
 35.                         
.                         drop main_exp_temp
 36.                 
.                 // pc_worker_naive_fe
.                 
.                 gen pc_worker_naive_fe_temp = worker_naive_fe if ym_rel == -1
> 2 & pc_individual == 1
 37.                 egen pc_worker_naive_fe = mean(pc_worker_naive_fe_temp), b
> y(eventid)
 38.                 
.                 drop pc_worker_naive_fe_temp
 39.                 
.                         // main_worker_naive_fe
.                 
.                         gen main_worker_naive_fe_temp = worker_naive_fe if ym
> _rel == -12 & main_individual == 1
 40.                         egen main_worker_naive_fe = mean(main_worker_naive
> _fe_temp), by(eventid)
 41.                 
.                         drop main_worker_naive_fe_temp
 42.                         
.                 // pc_worker_akm_fe
.                 
.                 gen pc_worker_akm_fe_temp = worker_akm_fe if ym_rel == -12 & 
> pc_individual == 1
 43.                 egen pc_worker_akm_fe = mean(pc_worker_akm_fe_temp), by(ev
> entid)
 44.                 
.                 drop pc_worker_akm_fe_temp
 45.                 
.                         // main_worker_akm_fe
.                 
.                         gen main_worker_akm_fe_temp = worker_akm_fe if ym_rel
>  == -12 & main_individual == 1
 46.                         egen main_worker_akm_fe = mean(main_worker_akm_fe_
> temp), by(eventid)
 47.                 
.                         drop main_worker_akm_fe_temp    
 48.         
.                 // pc_wage_d
.                 
.                 gen pc_wage_d_temp = wage_real_ln if ym_rel == 0 & pc_individ
> ual == 1
 49.                 egen pc_wage_d = mean(pc_wage_d_temp), by(eventid)
 50.                 
.                 drop pc_wage_d_temp
 51.                 
.                         // main_wage_d
.                 
.                         gen main_wage_d_temp = wage_real_ln if ym_rel == 0 & 
> main_individual == 1
 52.                         egen main_wage_d = mean(main_wage_d_temp), by(even
> tid)
 53.                         
.                         drop main_wage_d_temp
 54.                 
.                 // pc_wage_d_lvl
.                 
.                 gen pc_wage_d_lvl_temp = wage_real if ym_rel == 0 & pc_indivi
> dual == 1
 55.                 egen pc_wage_d_lvl = mean(pc_wage_d_lvl_temp), by(eventid)
 56.                 
.                 drop pc_wage_d_lvl_temp
 57.                 
.                         // main_wage_d_lvl
.                 
.                         gen main_wage_d_lvl_temp = wage_real if ym_rel == 0 &
>  main_individual == 1
 58.                         egen main_wage_d_lvl = mean(main_wage_d_lvl_temp),
>  by(eventid)
 59.                         
.                         drop main_wage_d_lvl_temp
 60.                         
.                 // pc_wage_o_l1
.                 
.                 gen pc_wage_o_l1_temp = wage_real_ln if ym_rel == -1 & pc_ind
> ividual == 1
 61.                 egen pc_wage_o_l1 = mean(pc_wage_o_l1_temp), by(eventid)
 62.                 
.                 drop pc_wage_o_l1_temp
 63.                 
.                         // pc_wage_o_l1
.                 
.                         gen main_wage_o_l1_temp = wage_real_ln if ym_rel == -
> 1 & main_individual == 1
 64.                         egen main_wage_o_l1 = mean(main_wage_o_l1_temp), b
> y(eventid)
 65.                         
.                         drop main_wage_o_l1_temp
 66.                         
.                 // pc_wage_o_l1_lvl
.                 
.                 gen pc_wage_o_l1_lvl_temp = wage_real if ym_rel == -1 & pc_in
> dividual == 1
 67.                 egen pc_wage_o_l1_lvl = mean(pc_wage_o_l1_lvl_temp), by(ev
> entid)
 68.                 
.                 drop pc_wage_o_l1_lvl_temp
 69.                 
.                         // main_wage_o_l1_lvl
.                 
.                         gen main_wage_o_l1_lvl_temp = wage_real if ym_rel == 
> -1 & main_individual == 1
 70.                         egen main_wage_o_l1_lvl = mean(main_wage_o_l1_lvl_
> temp), by(eventid)
 71.                         
.                         drop main_wage_o_l1_lvl_temp
 72.                         
.                 // rd_coworker_naive_fe
.                 
.                 gen rd_coworker_naive_fe_temp = worker_naive_fe if ym_rel == 
> -12 & raid_individual == 1
 73.                 egen rd_coworker_naive_fe = mean(rd_coworker_naive_fe_temp
> ), by(eventid)
 74.                 
.                 drop rd_coworker_naive_fe_temp
 75.                 
.                         // rdpc_coworker_naive_fe
.                 
.                         gen rdpc_coworker_naive_fe_temp = worker_naive_fe if 
> ym_rel == -12 & raidpc_individual == 1
 76.                         egen rdpc_coworker_naive_fe = mean(rdpc_coworker_n
> aive_fe_temp), by(eventid)
 77.                         
.                         drop rdpc_coworker_naive_fe_temp
 78. 
.                 // rd_coworker_akm_fe
.                 
.                 gen rd_coworker_akm_fe_temp = worker_akm_fe if ym_rel == -12 
> & raid_individual == 1
 79.                 egen rd_coworker_akm_fe = mean(rd_coworker_akm_fe_temp), b
> y(eventid)
 80.                 
.                 drop rd_coworker_akm_fe_temp
 81.                 
.                         // rdpc_coworker_akm_fe
.                 
.                         gen rdpc_coworker_akm_fe_temp = worker_akm_fe if ym_r
> el == -12 & raidpc_individual == 1
 82.                         egen rdpc_coworker_akm_fe = mean(rdpc_coworker_akm
> _fe_temp), by(eventid)
 83.                         
.                         drop rdpc_coworker_akm_fe_temp  
 84.                         
.                 // rd_coworker_n
.                 
.                 gen rd_coworker_n_temp = 1 if ym_rel == -12 & raid_individual
>  == 1
 85.                 egen rd_coworker_n = sum(rd_coworker_n_temp), by(eventid)
 86.                 
.                 drop rd_coworker_n_temp
 87.                 
.                         // rdpc_coworker_n
.                 
.                         gen rdpc_coworker_n_temp = 1 if ym_rel == -12 & raidp
> c_individual == 1
 88.                         egen rdpc_coworker_n = sum(rdpc_coworker_n_temp), 
> by(eventid)
 89.                 
.                         drop rdpc_coworker_n_temp
 90.                 
.                 // rd_coworker_wage_o_lvl
.                 
.                 gen rd_coworker_wage_o_lvl_temp = wage_real if ym_rel == -12 
> & raid_individual == 1
 91.                 egen rd_coworker_wage_o_lvl = mean(rd_coworker_wage_o_lvl_
> temp), by(eventid)
 92.                 
.                 drop rd_coworker_wage_o_lvl_temp
 93.                 
.                         // rdpc_coworker_wage_o_lvl
.                         
.                         gen rdpc_coworker_wage_o_lvl_temp = wage_real if ym_r
> el == -12 & raidpc_individual == 1
 94.                         egen rdpc_coworker_wage_o_lvl = mean(rdpc_coworker
> _wage_o_lvl_temp), by(eventid)
 95.                         
.                         drop rdpc_coworker_wage_o_lvl_temp
 96.                 
.                 // rd_coworker_wage_d_lvl
.                 
.                 gen rd_coworker_wage_d_lvl_temp = wage_real if raid == 1 & ra
> id_individual == 1
 97.                 egen rd_coworker_wage_d_lvl = mean(rd_coworker_wage_d_lvl_
> temp), by(eventid)
 98.                 
.                 drop rd_coworker_wage_d_lvl_temp
 99.                 
.                         // rdpc_coworker_wage_d_lvl
.                 
.                         gen rdpc_coworker_wage_d_lvl_temp = wage_real if raid
> pc == 1 & raidpc_individual == 1
100.                         egen rdpc_coworker_wage_d_lvl = mean(rdpc_coworker
> _wage_d_lvl_temp), by(eventid)
101.                         
.                         drop rdpc_coworker_wage_d_lvl_temp
102.                         
.         // keeping the variables we need
.         keep eventid cnae_d cnae_o o_avg_worker_naive_fe o_avg_worker_akm_fe 
> o_size pc_age main_age pc_exp main_exp ///
>                 pc_worker_naive_fe pc_worker_akm_fe main_worker_naive_fe main
> _worker_akm_fe ///
>                 pc_wage_d main_wage_d pc_wage_d_lvl main_wage_d_lvl pc_wage_o
> _l1 ///
>                 main_wage_o_l1 pc_wage_o_l1_lvl main_wage_o_l1_lvl rd_coworke
> r_naive_fe rd_coworker_akm_fe ///
>                 rdpc_coworker_naive_fe rdpc_coworker_akm_fe ///
>                 rd_coworker_n rdpc_coworker_n rd_coworker_wage_d_lvl rdpc_cow
> orker_wage_d_lvl ///
>                 rd_coworker_wage_o_lvl rdpc_coworker_wage_o_lvl
103.         
.         // keeping one observation per event
.         egen unique = tag(eventid)
104.         keep if unique == 1
105.         drop unique
106.         
.         // save temporary file
.         save "${temp}/from_cowork_panel_m_`ym'", replace
107.         
.         }
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(9571270 missing values generated)
(44,396,256 missing values generated)
(44,834,167 missing values generated)
(45,361,823 missing values generated)
(2,400 missing values generated)
(45,181,681 missing values generated)
(1,675 missing values generated)
(44,396,256 missing values generated)
(46,241,703 missing values generated)
(46,242,699 missing values generated)
(46,241,703 missing values generated)
(69 real changes made)
(46,242,699 missing values generated)
(65 real changes made)
(46,244,034 missing values generated)
(21,572,450 missing values generated)
(46,244,500 missing values generated)
(22,595,100 missing values generated)
(46,243,630 missing values generated)
(18,344,800 missing values generated)
(46,244,197 missing values generated)
(19,343,300 missing values generated)
(46,241,703 missing values generated)
(46,242,699 missing values generated)
(46,241,703 missing values generated)
(46,242,699 missing values generated)
(46,241,703 missing values generated)
(46,242,699 missing values generated)
(46,241,703 missing values generated)
(46,242,699 missing values generated)
(46,241,290 missing values generated)
(24,788,775 missing values generated)
(46,240,824 missing values generated)
(23,864,150 missing values generated)
(46,240,198 missing values generated)
(23,862,200 missing values generated)
(46,239,631 missing values generated)
(22,927,400 missing values generated)
(46,235,838 missing values generated)
(46,234,842 missing values generated)
(46,235,838 missing values generated)
(19,850,550 missing values generated)
(46,234,842 missing values generated)
(19,107,550 missing values generated)
(46,235,838 missing values generated)
(19,850,550 missing values generated)
(46,234,842 missing values generated)
(19,107,550 missing values generated)
(46,242,699 observations deleted)
file poaching/temp/from_cowork_panel_m_673.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(11939264 missing values generated)
(55,669,344 missing values generated)
(56,208,849 missing values generated)
(56,843,326 missing values generated)
(2,700 missing values generated)
(56,621,545 missing values generated)
(55,669,344 missing values generated)
(57,983,150 missing values generated)
(57,984,687 missing values generated)
(57,983,150 missing values generated)
(87 real changes made)
(57,984,687 missing values generated)
(84 real changes made)
(57,986,315 missing values generated)
(29,578,975 missing values generated)
(57,986,937 missing values generated)
(30,627,575 missing values generated)
(57,985,700 missing values generated)
(24,566,550 missing values generated)
(57,986,543 missing values generated)
(25,624,125 missing values generated)
(57,983,150 missing values generated)
(57,984,687 missing values generated)
(57,983,150 missing values generated)
(57,984,687 missing values generated)
(57,983,150 missing values generated)
(57,984,687 missing values generated)
(57,983,150 missing values generated)
(57,984,687 missing values generated)
(57,983,362 missing values generated)
(35,136,575 missing values generated)
(57,982,740 missing values generated)
(34,773,150 missing values generated)
(57,982,144 missing values generated)
(32,948,250 missing values generated)
(57,981,301 missing values generated)
(32,581,175 missing values generated)
(57,976,918 missing values generated)
(57,975,381 missing values generated)
(57,976,918 missing values generated)
(27,534,375 missing values generated)
(57,975,381 missing values generated)
(27,256,750 missing values generated)
(57,976,918 missing values generated)
(27,534,375 missing values generated)
(57,975,381 missing values generated)
(27,256,750 missing values generated)
(57,984,687 observations deleted)
file poaching/temp/from_cowork_panel_m_674.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(10667712 missing values generated)
(50,407,392 missing values generated)
(50,883,974 missing values generated)
(51,474,069 missing values generated)
(425 missing values generated)
(51,275,628 missing values generated)
(50,407,392 missing values generated)
(52,502,155 missing values generated)
(52,503,774 missing values generated)
(52,502,155 missing values generated)
(75 real changes made)
(52,503,774 missing values generated)
(71 real changes made)
(52,505,109 missing values generated)
(27,172,100 missing values generated)
(52,505,884 missing values generated)
(28,094,150 missing values generated)
(52,504,587 missing values generated)
(23,404,975 missing values generated)
(52,505,526 missing values generated)
(24,135,950 missing values generated)
(52,502,155 missing values generated)
(52,503,774 missing values generated)
(52,502,155 missing values generated)
(52,503,774 missing values generated)
(52,502,155 missing values generated)
(52,503,774 missing values generated)
(52,502,155 missing values generated)
(52,503,774 missing values generated)
(52,502,605 missing values generated)
(32,463,750 missing values generated)
(52,501,830 missing values generated)
(31,715,175 missing values generated)
(52,501,485 missing values generated)
(30,358,975 missing values generated)
(52,500,546 missing values generated)
(29,518,975 missing values generated)
(52,496,814 missing values generated)
(52,495,195 missing values generated)
(52,496,814 missing values generated)
(25,531,400 missing values generated)
(52,495,195 missing values generated)
(24,730,825 missing values generated)
(52,496,814 missing values generated)
(25,531,400 missing values generated)
(52,495,195 missing values generated)
(24,730,825 missing values generated)
(52,503,774 observations deleted)
file poaching/temp/from_cowork_panel_m_675.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(10599331 missing values generated)
(49,826,808 missing values generated)
(50,297,770 missing values generated)
(50,894,902 missing values generated)
(2,750 missing values generated)
(50,692,734 missing values generated)
(49,826,808 missing values generated)
(51,897,442 missing values generated)
(51,898,964 missing values generated)
(51,897,442 missing values generated)
(91 real changes made)
(51,898,964 missing values generated)
(83 real changes made)
(51,900,126 missing values generated)
(25,601,250 missing values generated)
(51,901,063 missing values generated)
(26,626,825 missing values generated)
(51,899,632 missing values generated)
(21,750,125 missing values generated)
(51,900,684 missing values generated)
(22,409,850 missing values generated)
(51,897,442 missing values generated)
(51,898,964 missing values generated)
(51,897,442 missing values generated)
(51,898,964 missing values generated)
(51,897,442 missing values generated)
(51,898,964 missing values generated)
(51,897,442 missing values generated)
(51,898,964 missing values generated)
(51,897,108 missing values generated)
(30,421,575 missing values generated)
(51,896,171 missing values generated)
(29,723,475 missing values generated)
(51,895,852 missing values generated)
(28,734,000 missing values generated)
(51,894,800 missing values generated)
(28,173,950 missing values generated)
(51,891,174 missing values generated)
(51,889,652 missing values generated)
(51,891,174 missing values generated)
(24,218,550 missing values generated)
(51,889,652 missing values generated)
(23,520,550 missing values generated)
(51,891,174 missing values generated)
(24,218,550 missing values generated)
(51,889,652 missing values generated)
(23,520,550 missing values generated)
(51,898,964 observations deleted)
file poaching/temp/from_cowork_panel_m_676.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(10522883 missing values generated)
(49,095,912 missing values generated)
(49,566,273 missing values generated)
(50,149,728 missing values generated)
(1,500 missing values generated)
(49,952,031 missing values generated)
(49,095,912 missing values generated)
(51,136,380 missing values generated)
(51,137,726 missing values generated)
(51,136,380 missing values generated)
(72 real changes made)
(51,137,726 missing values generated)
(68 real changes made)
(51,139,121 missing values generated)
(25,522,150 missing values generated)
(51,139,735 missing values generated)
(26,404,825 missing values generated)
(51,138,602 missing values generated)
(21,655,400 missing values generated)
(51,139,381 missing values generated)
(22,554,450 missing values generated)
(51,136,380 missing values generated)
(51,137,726 missing values generated)
(51,136,380 missing values generated)
(51,137,726 missing values generated)
(51,136,380 missing values generated)
(51,137,726 missing values generated)
(51,136,380 missing values generated)
(51,137,726 missing values generated)
(51,137,026 missing values generated)
(29,334,500 missing values generated)
(51,136,412 missing values generated)
(28,792,000 missing values generated)
(51,136,023 missing values generated)
(27,079,400 missing values generated)
(51,135,244 missing values generated)
(26,514,525 missing values generated)
(51,131,679 missing values generated)
(51,130,333 missing values generated)
(51,131,679 missing values generated)
(22,096,775 missing values generated)
(51,130,333 missing values generated)
(21,650,700 missing values generated)
(51,131,679 missing values generated)
(22,096,775 missing values generated)
(51,130,333 missing values generated)
(21,650,700 missing values generated)
(51,137,726 observations deleted)
file poaching/temp/from_cowork_panel_m_677.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(10494617 missing values generated)
(49,851,840 missing values generated)
(50,322,356 missing values generated)
(50,919,676 missing values generated)
(725 missing values generated)
(50,719,073 missing values generated)
(49,851,840 missing values generated)
(51,923,701 missing values generated)
(51,925,056 missing values generated)
(51,923,701 missing values generated)
(94 real changes made)
(51,925,056 missing values generated)
(87 real changes made)
(51,926,434 missing values generated)
(25,639,025 missing values generated)
(51,927,213 missing values generated)
(27,164,125 missing values generated)
(51,925,938 missing values generated)
(21,145,400 missing values generated)
(51,926,847 missing values generated)
(22,391,725 missing values generated)
(51,923,701 missing values generated)
(51,925,056 missing values generated)
(51,923,701 missing values generated)
(51,925,056 missing values generated)
(51,923,701 missing values generated)
(51,925,056 missing values generated)
(51,923,701 missing values generated)
(51,925,056 missing values generated)
(51,923,330 missing values generated)
(29,321,825 missing values generated)
(51,922,551 missing values generated)
(28,475,250 missing values generated)
(51,922,041 missing values generated)
(27,405,250 missing values generated)
(51,921,132 missing values generated)
(26,618,675 missing values generated)
(51,916,908 missing values generated)
(51,915,553 missing values generated)
(51,916,908 missing values generated)
(22,845,325 missing values generated)
(51,915,553 missing values generated)
(22,284,775 missing values generated)
(51,916,908 missing values generated)
(22,845,325 missing values generated)
(51,915,553 missing values generated)
(22,284,775 missing values generated)
(51,925,056 observations deleted)
file poaching/temp/from_cowork_panel_m_678.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(10200624 missing values generated)
(48,450,696 missing values generated)
(48,906,527 missing values generated)
(49,483,771 missing values generated)
(49,292,345 missing values generated)
(48,450,696 missing values generated)
(50,464,378 missing values generated)
(50,465,540 missing values generated)
(50,464,378 missing values generated)
(95 real changes made)
(50,465,540 missing values generated)
(78 real changes made)
(50,467,092 missing values generated)
(25,548,950 missing values generated)
(50,467,669 missing values generated)
(27,246,350 missing values generated)
(50,466,611 missing values generated)
(20,761,375 missing values generated)
(50,467,299 missing values generated)
(22,294,475 missing values generated)
(50,464,378 missing values generated)
(50,465,540 missing values generated)
(50,464,378 missing values generated)
(50,465,540 missing values generated)
(50,464,378 missing values generated)
(50,465,540 missing values generated)
(50,464,378 missing values generated)
(50,465,540 missing values generated)
(50,464,280 missing values generated)
(28,902,700 missing values generated)
(50,463,703 missing values generated)
(28,122,450 missing values generated)
(50,463,050 missing values generated)
(27,698,625 missing values generated)
(50,462,362 missing values generated)
(26,975,475 missing values generated)
(50,457,932 missing values generated)
(50,456,770 missing values generated)
(50,457,932 missing values generated)
(23,473,300 missing values generated)
(50,456,770 missing values generated)
(22,788,875 missing values generated)
(50,457,932 missing values generated)
(23,473,300 missing values generated)
(50,456,770 missing values generated)
(22,788,875 missing values generated)
(50,465,540 observations deleted)
file poaching/temp/from_cowork_panel_m_679.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(9534609 missing values generated)
(46,634,352 missing values generated)
(47,056,293 missing values generated)
(47,622,597 missing values generated)
(850 missing values generated)
(47,439,229 missing values generated)
(850 missing values generated)
(46,634,352 missing values generated)
(48,572,382 missing values generated)
(48,573,727 missing values generated)
(48,572,382 missing values generated)
(71 real changes made)
(48,573,727 missing values generated)
(61 real changes made)
(48,575,005 missing values generated)
(23,289,600 missing values generated)
(48,575,719 missing values generated)
(24,476,100 missing values generated)
(48,574,516 missing values generated)
(19,021,975 missing values generated)
(48,575,365 missing values generated)
(20,075,800 missing values generated)
(48,572,382 missing values generated)
(48,573,727 missing values generated)
(48,572,382 missing values generated)
(48,573,727 missing values generated)
(48,572,382 missing values generated)
(48,573,727 missing values generated)
(48,572,382 missing values generated)
(48,573,727 missing values generated)
(48,572,492 missing values generated)
(27,914,000 missing values generated)
(48,571,778 missing values generated)
(27,439,825 missing values generated)
(48,571,380 missing values generated)
(26,590,775 missing values generated)
(48,570,531 missing values generated)
(26,095,575 missing values generated)
(48,566,384 missing values generated)
(48,565,039 missing values generated)
(48,566,384 missing values generated)
(21,880,350 missing values generated)
(48,565,039 missing values generated)
(21,516,500 missing values generated)
(48,566,384 missing values generated)
(21,880,350 missing values generated)
(48,565,039 missing values generated)
(21,516,500 missing values generated)
(48,573,727 observations deleted)
file poaching/temp/from_cowork_panel_m_680.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(9375716 missing values generated)
(44,627,568 missing values generated)
(45,044,200 missing values generated)
(45,600,879 missing values generated)
(45,424,132 missing values generated)
(44,627,568 missing values generated)
(46,482,167 missing values generated)
(46,483,457 missing values generated)
(46,482,167 missing values generated)
(108 real changes made)
(46,483,457 missing values generated)
(103 real changes made)
(46,484,770 missing values generated)
(23,975,350 missing values generated)
(46,485,446 missing values generated)
(25,790,000 missing values generated)
(46,484,308 missing values generated)
(19,139,450 missing values generated)
(46,485,114 missing values generated)
(20,772,875 missing values generated)
(46,482,167 missing values generated)
(46,483,457 missing values generated)
(46,482,167 missing values generated)
(46,483,457 missing values generated)
(46,482,167 missing values generated)
(46,483,457 missing values generated)
(46,482,167 missing values generated)
(46,483,457 missing values generated)
(46,481,432 missing values generated)
(25,083,450 missing values generated)
(46,480,756 missing values generated)
(24,115,700 missing values generated)
(46,480,195 missing values generated)
(23,707,400 missing values generated)
(46,479,389 missing values generated)
(22,938,925 missing values generated)
(46,474,817 missing values generated)
(46,473,527 missing values generated)
(46,474,817 missing values generated)
(19,599,025 missing values generated)
(46,473,527 missing values generated)
(19,107,025 missing values generated)
(46,474,817 missing values generated)
(19,599,025 missing values generated)
(46,473,527 missing values generated)
(19,107,025 missing values generated)
(46,483,457 observations deleted)
file poaching/temp/from_cowork_panel_m_681.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(9318938 missing values generated)
(44,424,912 missing values generated)
(44,836,706 missing values generated)
(45,396,265 missing values generated)
(1,225 missing values generated)
(45,220,615 missing values generated)
(650 missing values generated)
(44,424,912 missing values generated)
(46,270,963 missing values generated)
(46,272,315 missing values generated)
(46,270,963 missing values generated)
(115 real changes made)
(46,272,315 missing values generated)
(109 real changes made)
(46,273,719 missing values generated)
(22,888,225 missing values generated)
(46,274,342 missing values generated)
(24,092,450 missing values generated)
(46,273,228 missing values generated)
(19,037,500 missing values generated)
(46,274,001 missing values generated)
(19,977,325 missing values generated)
(46,270,963 missing values generated)
(46,272,315 missing values generated)
(46,270,963 missing values generated)
(46,272,315 missing values generated)
(46,270,963 missing values generated)
(46,272,315 missing values generated)
(46,270,963 missing values generated)
(46,272,315 missing values generated)
(46,271,843 missing values generated)
(28,992,725 missing values generated)
(46,271,220 missing values generated)
(28,401,725 missing values generated)
(46,270,884 missing values generated)
(27,226,950 missing values generated)
(46,270,111 missing values generated)
(26,550,500 missing values generated)
(46,266,498 missing values generated)
(46,265,146 missing values generated)
(46,266,498 missing values generated)
(22,308,200 missing values generated)
(46,265,146 missing values generated)
(21,588,025 missing values generated)
(46,266,498 missing values generated)
(22,308,200 missing values generated)
(46,265,146 missing values generated)
(21,588,025 missing values generated)
(46,272,315 observations deleted)
file poaching/temp/from_cowork_panel_m_682.dta saved
cnae20_class_str generated as str5
cnae20_2d: all characters numeric; replaced as byte
(6973776 missing values generated)
(34,008,552 missing values generated)
(34,318,595 missing values generated)
(34,740,249 missing values generated)
(1,650 missing values generated)
(34,607,791 missing values generated)
(925 missing values generated)
(34,008,552 missing values generated)
(35,421,864 missing values generated)
(35,422,888 missing values generated)
(35,421,864 missing values generated)
(85 real changes made)
(35,422,888 missing values generated)
(82 real changes made)
(35,423,844 missing values generated)
(18,486,700 missing values generated)
(35,424,371 missing values generated)
(19,085,575 missing values generated)
(35,423,489 missing values generated)
(15,188,400 missing values generated)
(35,424,131 missing values generated)
(15,542,875 missing values generated)
(35,421,864 missing values generated)
(35,422,888 missing values generated)
(35,421,864 missing values generated)
(35,422,888 missing values generated)
(35,421,864 missing values generated)
(35,422,888 missing values generated)
(35,421,864 missing values generated)
(35,422,888 missing values generated)
(35,421,712 missing values generated)
(19,920,025 missing values generated)
(35,421,185 missing values generated)
(19,799,300 missing values generated)
(35,420,856 missing values generated)
(19,183,650 missing values generated)
(35,420,214 missing values generated)
(19,076,275 missing values generated)
(35,417,118 missing values generated)
(35,416,094 missing values generated)
(35,417,118 missing values generated)
(16,147,625 missing values generated)
(35,416,094 missing values generated)
(15,982,000 missing values generated)
(35,417,118 missing values generated)
(16,147,625 missing values generated)
(35,416,094 missing values generated)
(15,982,000 missing values generated)
(35,422,888 observations deleted)
file poaching/temp/from_cowork_panel_m_683.dta saved

.         
.         /*
>         
>         // appending monthly files
> 
>         clear 
>                 
>         foreach ym of numlist 601/611 613/623 625/635 637/647 649/659 661/671
>  673/683 { 
>                 
>                 append using "${temp}/from_cowork_panel_m_`ym'"
>         
>         }
>         
>         save "${temp}/from_cowork_panel_m", replace
>         
>         */
. 
. // variables from dest_panel_m
.         
.         // this panel will be constructed separately for each cohort
.         foreach ym of numlist 673/683 { 
  2. 
.         use "${data}/202503_dest_panel_m/202503_dest_panel_m_`ym'", clear
  3.         
.         sort eventid ym cpf
  4.         gen pc_ym = `ym'
  5.         gen ym_rel = ym - pc_ym
  6.         
.         // organizing variables we want to keep
.         
.                 // d_avg_worker_naive_fe
.                 
.                 gen d_avg_worker_naive_fe_temp = worker_naive_fe if ym_rel ==
>  0
  7.                 egen d_avg_worker_naive_fe = mean(d_avg_worker_naive_fe_te
> mp), by(eventid)
  8.                 
.                 drop d_avg_worker_naive_fe_temp
  9.                 
.                 // d_avg_worker_akm_fe
.                 
.                 gen d_avg_worker_akm_fe_temp = worker_akm_fe if ym_rel == 0
 10.                 egen d_avg_worker_akm_fe = mean(d_avg_worker_akm_fe_temp),
>  by(eventid)
 11.                 
.                 drop d_avg_worker_akm_fe_temp
 12.                 
.                 // d_size
.                 
.                 gen d_size_temp = 1 if ym_rel == 0
 13.                 egen d_size = sum(d_size_temp), by(eventid)
 14.         
.                 drop d_size_temp
 15.                 
.         // keeping the variables we need
.         keep eventid d_avg_worker_naive_fe d_avg_worker_akm_fe d_size
 16.         
.         // keeping one observation per event
.         egen unique = tag(eventid)
 17.         keep if unique == 1
 18.         drop unique
 19.         
.         // save temporary file
.         save "${temp}/from_dest_panel_m_`ym'", replace
 20.                 
.         }
(44,931,626 missing values generated)
(44,758,825 missing values generated)
(44,045,458 missing values generated)
(45,885,954 observations deleted)
(file poaching/temp/from_dest_panel_m_673.dta not found)
file poaching/temp/from_dest_panel_m_673.dta saved
(52,887,528 missing values generated)
(52,685,236 missing values generated)
(51,825,988 missing values generated)
(54,003,431 observations deleted)
(file poaching/temp/from_dest_panel_m_674.dta not found)
file poaching/temp/from_dest_panel_m_674.dta saved
(51,015,918 missing values generated)
(50,818,834 missing values generated)
(49,982,314 missing values generated)
(52,095,704 observations deleted)
(file poaching/temp/from_dest_panel_m_675.dta not found)
file poaching/temp/from_dest_panel_m_675.dta saved
(52,167,200 missing values generated)
(51,969,266 missing values generated)
(51,127,818 missing values generated)
(53,277,838 observations deleted)
(file poaching/temp/from_dest_panel_m_676.dta not found)
file poaching/temp/from_dest_panel_m_676.dta saved
(49,248,938 missing values generated)
(699 missing values generated)
(49,062,990 missing values generated)
(48,247,132 missing values generated)
(50,279,199 observations deleted)
(file poaching/temp/from_dest_panel_m_677.dta not found)
file poaching/temp/from_dest_panel_m_677.dta saved
(52,501,646 missing values generated)
(2,275 missing values generated)
(52,303,361 missing values generated)
(2,275 missing values generated)
